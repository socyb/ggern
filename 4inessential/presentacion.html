<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Modo Presentaci√≥n ¬∑ (In)Essential Bordering</title>
  <link rel="stylesheet" href="../css/styles.css" />
  <style>
    :root{
      --blue-deep: #174a7e;
      --blue-light: #7bb6e9;
      --white: #ffffff;
      --rose: #c94a5a;
      --rose-dark: #8b2d3a;
      --ink: #1a2636;
      --btn-border: #174a7e; /* Nuevo color de borde para botones azules */
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--ink);background:var(--blue-light)}
    a{color:var(--rose-dark);text-decoration:none}
    a:hover{text-decoration:underline}
    header{position:relative;overflow:hidden;color:var(--white)}
    .hero{
      padding:3.5rem 1.25rem 2.75rem;
      background: linear-gradient(135deg, var(--blue-deep) 60%, var(--rose) 100%);
      background-size:cover;
      border-bottom:8px solid var(--rose);
    }
    .hero-inner{max-width:1000px;margin:0 auto}
    .title{margin:.35rem 0 0;font-size:clamp(2rem,5vw,3rem);font-weight:900;line-height:1.1}
    .subtitle{margin:.5rem 0 0;font-size:clamp(1rem,2.3vw,1.2rem);opacity:.95}
    .container{max-width:1000px;margin:0 auto;padding:2rem 1.25rem}
    .card{background:var(--white);border-radius:18px;border:1px solid var(--blue-light);box-shadow:0 6px 18px rgba(23,74,126,.10);overflow:hidden}
    .card-header{background:linear-gradient(90deg,var(--rose),var(--blue-light));color:var(--ink);}
    .pill{background:rgba(255,255,255,.92);color:var(--rose-dark);}
    .muted{color:var(--blue-deep);}
    .panel{background:var(--white);border:1px solid var(--blue-light);}
    .badge{background:var(--rose);color:var(--white);}
    .meta{color:var(--blue-deep);}
    footer{background:var(--blue-deep);color:var(--white);}
    .brand .stripe{background:var(--rose);}
    .add{border:2px solid var(--blue-deep);background:var(--white);color:var(--blue-deep);}
    .add:hover{background:var(--blue-light);}
    body {
      color: #fff;
      margin: 0;
      font-family: system-ui, sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .presentation-container {
      width: 100vw;
      min-height: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 2.5vh;
      margin-bottom: 0;
    }
    .card-flip {
      width: 100%;
      max-width: 900px;
      min-width: 0;
      min-height: 220px;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .flip-inner {
      width: 100%;
      min-height: 220px;
      position: relative;
      transition: transform 0.7s cubic-bezier(.4,2,.3,1);
      transform-style: preserve-3d;
    }
    .slide-face {
      width: 100%;
      max-width: 900px;
      box-sizing: border-box;
      background: rgba(255,247,236,0.97);
      color: var(--ink);
      border-radius: 24px;
      box-shadow: 0 8px 32px rgba(11,138,143,.18);
      padding: 2rem 1.2rem;
      font-size: 2.2rem;
      text-align: center;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow-y: auto;
      word-break: break-word;
    }
    .slide-face.active {
      display: flex;
      animation: fadeIn .4s;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .slide-face h1, .slide-face h2 {
      color: var(--teal-dark);
      margin-bottom: 1.2rem;
      font-size: 2.1rem;
      font-weight: 900;
      letter-spacing: .03em;
    }
    .controls {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 2rem;
      margin-top: 1.2rem;
      position: static;
      z-index: auto;
    }
    .btn {
      background: var(--blue-light);
      color: var(--ink);
      border: 2px solid var(--btn-border); /* Borde azul profundo */
      border-radius: 999px;
      padding: 1rem 2.2rem;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: background .2s, border-color .2s;
      margin-bottom: .5rem;
    }
    .btn:disabled {
      background: #ffe6b3;
      color: #aaa;
      border: 2px solid #ffe6b3;
      cursor: not-allowed;
    }
    .slide-face .slide-face-content,
    .slide-face-content ul,
    .slide-face-content li {
      font-size: 3rem !important;
      line-height: 1.4 !important;
    }
    @media (max-width: 950px) {
      .slide-face .slide-face-content,
      .slide-face-content ul,
      .slide-face-content li {
        font-size: 2rem !important;
      }
    }
    @media (max-width: 600px) {
      .slide-face .slide-face-content,
      .slide-face-content ul,
      .slide-face-content li {
        font-size: 1.3rem !important;
      }
    }
    @media (max-width: 400px) {
      .slide-face {
        font-size: 1rem;
        padding: .5rem .2rem;
      }
    }
  </style>
</head>
<body>
  <div class="presentation-container">
    <div class="card-flip">
      <div class="flip-inner" id="flipInner">
        <div class="slide-face front active" id="frontFace"></div>
        <div class="slide-face back" id="backFace"></div>
      </div>
    </div>
    <div class="controls">
      <button class="btn" id="prevBtn">Anterior</button>
      <button class="btn" id="flipBtn">Ver idea clave</button>
      <button class="btn" id="nextBtn">Siguiente</button>
      <button class="btn" id="randomBtn" title="Pregunta aleatoria" style="font-size:1.4rem;display:flex;align-items:center;gap:.5rem;">
        <span aria-hidden="true">üé≤</span> Aleatoria
      </button>
      <a href="index.html" class="btn" id="backBtn" style="text-decoration:none;">Regresar a notas de lectura</a>
    </div>
  </div>
<script>
  // Informaci√≥n de Walzer para el popup
  const walzerInfo = `
    <strong>Michael Walzer (n. 1935)</strong> es un fil√≥sofo pol√≠tico estadounidense, profesor em√©rito en el Institute for Advanced Study (Princeton, EE. UU.), conocido por sus trabajos sobre justicia, guerra, √©tica y ciudadan√≠a.<br><br>
    <u>Algunos puntos clave sobre √©l:</u>
    <ul style="text-align:left; font-size:1.15rem; margin-top:1rem;">
      <li><strong>Obra m√°s influyente:</strong> <em>Spheres of Justice</em> (1983), donde desarrolla la idea de que la justicia no es universal ni uniforme, sino que debe entenderse en ‚Äúesferas‚Äù diferenciadas (econom√≠a, pol√≠tica, comunidad, etc.), cada una con sus propios criterios de distribuci√≥n.</li>
      <li><strong>Teor√≠a de la guerra justa:</strong> En <em>Just and Unjust Wars</em> (1977), ofrece una defensa moderna del concepto de guerra justa, analizando c√≥mo deben ser evaluadas las guerras y la conducta de los combatientes.</li>
      <li><strong>Comunitarismo:</strong> Es una de las figuras centrales del comunitarismo pol√≠tico, corriente que resalta la importancia de la pertenencia comunitaria y de los valores compartidos frente a visiones m√°s individualistas de la pol√≠tica.</li>
      <li><strong>Sobre fronteras y movilidad:</strong> Walzer argumenta que la libre movilidad dentro de un Estado (ciudadanos circulando sin restricciones) depende de que existan fronteras nacionales relativamente cerradas. Si estas se abrieran por completo, comunidades m√°s peque√±as tender√≠an a erigir sus propias barreras internas ‚Äîlo que √©l llam√≥ un mundo de ‚Äúmil peque√±os fortines‚Äù (<em>a thousand petty fortresses</em>).</li>
    </ul>
  `;

  // Funci√≥n para abrir el popup
  function showWalzerPopup() {
    const popup = document.createElement('div');
    popup.id = 'walzer-popup';
    popup.style.position = 'fixed';
    popup.style.top = '50%';
    popup.style.left = '50%';
    popup.style.transform = 'translate(-50%, -50%)';
    popup.style.background = 'rgba(255,247,236,0.98)';
    popup.style.color = 'var(--ink)';
    popup.style.border = '2px solid var(--teal-dark)';
    popup.style.borderRadius = '18px';
    popup.style.boxShadow = '0 8px 32px rgba(11,138,143,.18)';
    popup.style.padding = '2.2rem 2rem 1.5rem 2rem';
    popup.style.zIndex = '9999';
    popup.style.maxWidth = '90vw';
    popup.style.width = '480px';
    popup.style.fontSize = '1.15rem';
    popup.style.maxHeight = '80vh';
    popup.style.overflowY = 'auto';
    popup.innerHTML = `
      <div style="font-size:1.35rem; font-weight:700; margin-bottom:.7rem; color:var(--teal-dark);">¬øQui√©n es Walzer?</div>
      ${walzerInfo}
      <div style="text-align:right; margin-top:1.5rem;">
        <button id="closeWalzerBtn" style="background:var(--sun);color:var(--ink);border:none;border-radius:999px;padding:.5rem 1.2rem;font-size:1rem;font-weight:700;cursor:pointer;">Cerrar</button>
      </div>
    `;
    document.body.appendChild(popup);

    // Ajustar tama√±o si la ventana es peque√±a
    function resizePopup() {
      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
      popup.style.width = vw < 520 ? '96vw' : '480px';
      popup.style.maxHeight = vw < 520 ? '90vh' : '80vh';
    }
    resizePopup();
    window.addEventListener('resize', resizePopup);

    document.getElementById('closeWalzerBtn').onclick = () => {
      window.removeEventListener('resize', resizePopup);
      popup.remove();
    };
  }

  // Informaci√≥n de CBSA para el popup
  const cbsaInfo = `
    <strong>CBSA</strong> es la <strong>Canada Border Services Agency</strong> (Agencia de Servicios Fronterizos de Canad√°).<br><br>
    Es el organismo federal encargado de:
    <ul style="text-align:left; font-size:1.15rem; margin-top:1rem;">
      <li>Controlar la entrada y salida de personas y bienes en Canad√°.</li>
      <li>Aplicar leyes de inmigraci√≥n y aduanas, incluyendo inspecciones en aeropuertos, puertos y fronteras terrestres.</li>
      <li>Ejecutar detenciones y deportaciones en casos de incumplimiento de la ley migratoria.</li>
      <li>Recaudar aranceles y tarifas aduaneras.</li>
      <li>Proteger la seguridad nacional, colaborando con otras agencias en temas de contrabando, terrorismo y crimen organizado.</li>
    </ul>
    <br>
    En <em>Macklin, 2020</em> se menciona que, aun teniendo un <em>study permit</em> v√°lido, la admisi√≥n final de los estudiantes internacionales quedaba a discreci√≥n de los oficiales del CBSA en el punto de entrada. Es decir, eran ellos quienes decid√≠an en la pr√°ctica si el estudiante pod√≠a entrar o no.
  `;

  // Funci√≥n para abrir el popup de CBSA
  function showCBSAPopup() {
    const popup = document.createElement('div');
    popup.id = 'cbsa-popup';
    popup.style.position = 'fixed';
    popup.style.top = '50%';
    popup.style.left = '50%';
    popup.style.transform = 'translate(-50%, -50%)';
    popup.style.background = 'rgba(255,247,236,0.98)';
    popup.style.color = 'var(--ink)';
    popup.style.border = '2px solid var(--teal-dark)';
    popup.style.borderRadius = '18px';
    popup.style.boxShadow = '0 8px 32px rgba(11,138,143,.18)';
    popup.style.padding = '2.2rem 2rem 1.5rem 2rem';
    popup.style.zIndex = '9999';
    popup.style.maxWidth = '90vw';
    popup.style.width = '480px';
    popup.style.fontSize = '1.15rem';
    popup.style.maxHeight = '80vh';
    popup.style.overflowY = 'auto';
    popup.innerHTML = `
      <div style="font-size:1.35rem; font-weight:700; margin-bottom:.7rem; color:var(--teal-dark);">¬øQu√© es el CBSA?</div>
      ${cbsaInfo}
      <div style="text-align:right; margin-top:1.5rem;">
        <button id="closeCBSABtn" style="background:var(--sun);color:var(--ink);border:none;border-radius:999px;padding:.5rem 1.2rem;font-size:1rem;font-weight:700;cursor:pointer;">Cerrar</button>
      </div>
    `;
    document.body.appendChild(popup);

    function resizePopup() {
      const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
      popup.style.width = vw < 520 ? '96vw' : '480px';
      popup.style.maxHeight = vw < 520 ? '90vh' : '80vh';
    }
    resizePopup();
    window.addEventListener('resize', resizePopup);

    document.getElementById('closeCBSABtn').onclick = () => {
      window.removeEventListener('resize', resizePopup);
      popup.remove();
    };
  }

  // Funci√≥n para insertar el link en cada menci√≥n de Walzer
  function linkifyWalzer(text) {
    return text.replace(/Walzer/g, `<a href="#" onclick="showWalzerPopup();return false;" style="color:var(--coral);text-decoration:underline;font-weight:700;">Walzer</a>`);
  }

  // Funci√≥n para insertar el link en cada menci√≥n de CBSA
  function linkifyCBSA(text) {
    return text.replace(/CBSA/g, `<a href="#" onclick="showCBSAPopup();return false;" style="color:var(--coral);text-decoration:underline;font-weight:700;">CBSA</a>`);
  }

  // Preguntas y ideas clave para las tarjetas 1 a 4 (Recursos renovables y no renovables)
  const preguntas = [
    `<ul style="text-align:left; font-size:1.25rem; margin:0 auto; max-width:700px;">
      <li>¬øQu√© diferencia hay entre un recurso renovable y uno no renovable?</li>
    </ul>`,
    `<ul style="text-align:left; font-size:1.25rem; margin:0 auto; max-width:700px;">
      <li>¬øC√≥mo ejemplifica Meadows un sistema basado en petr√≥leo (no renovable) frente a un sistema agr√≠cola o forestal (renovable)?</li>
    </ul>`,
    `<ul style="text-align:left; font-size:1.25rem; margin:0 auto; max-width:700px;">
      <li>¬øPor qu√© ning√∫n sistema f√≠sico puede crecer indefinidamente en un entorno finito?</li>
    </ul>`,
    `<ul style="text-align:left; font-size:1.25rem; margin:0 auto; max-width:700px;">
      <li>¬øQu√© implicaciones tiene esta distinci√≥n para la gesti√≥n de energ√≠a y recursos naturales hoy?</li>
    </ul>`
  ];

  const ideas = [
    `<ul style="text-align:left; font-size:1.25rem; margin:0 auto; max-width:700px;">
      <li>Un recurso renovable puede regenerarse naturalmente en el tiempo (ejemplo: cultivos, bosques), mientras que un no renovable se agota al usarse (ejemplo: petr√≥leo).</li>
    </ul>`,
    `<ul style="text-align:left; font-size:1.25rem; margin:0 auto; max-width:700px;">
      <li>La econom√≠a del petr√≥leo funciona como un sistema limitado: depende de un stock no renovable que, tarde o temprano, se acaba.</li>
      <li>Los sistemas renovables tambi√©n tienen l√≠mites: aunque puedan regenerse, requieren condiciones ambientales adecuadas (tiempo, nutrientes, agua).</li>
    </ul>`,
    `<ul style="text-align:left; font-size:1.25rem; margin:0 auto; max-width:700px;">
      <li>Seg√∫n Meadows, todo sistema de crecimiento exponencial combina bucles de refuerzo (que impulsan el crecimiento) con bucles de balanceo (que imponen l√≠mites). Esto significa que incluso los recursos renovables se saturan o degradan si la explotaci√≥n supera su capacidad de regeneraci√≥n.</li>
    </ul>`,
    `<ul style="text-align:left; font-size:1.25rem; margin:0 auto; max-width:700px;">
      <li>Para la gesti√≥n contempor√°nea, esto implica dise√±ar pol√≠ticas que reconozcan l√≠mites f√≠sicos y ecol√≥gicos, evitando ilusiones de crecimiento infinito.</li>
    </ul>`
  ];

  let current = 0;
  let flipped = false;

  const frontFace = document.getElementById('frontFace');
  const backFace = document.getElementById('backFace');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const flipBtn = document.getElementById('flipBtn');
  const randomBtn = document.getElementById('randomBtn');

  function renderSlide(idx) {
    frontFace.innerHTML = `<h2>Pregunta ${idx + 1}</h2><div class="slide-face-content" style="margin-top:2.5rem;">${preguntas[idx]}</div>`;
    backFace.innerHTML = `<h2>Idea clave</h2><div class="slide-face-content" style="margin-top:2.5rem;">${ideas[idx]}</div>`;
    prevBtn.disabled = idx === 0;
    nextBtn.disabled = idx === preguntas.length - 1;
    randomBtn.disabled = false;
    if (flipped) {
      frontFace.classList.remove('active');
      backFace.classList.add('active');
      flipBtn.textContent = "Ver pregunta";
    } else {
      frontFace.classList.add('active');
      backFace.classList.remove('active');
      flipBtn.textContent = "Ver idea clave";
    }
  }

  flipBtn.onclick = () => {
    flipped = !flipped;
    renderSlide(current);
  };

  prevBtn.onclick = () => {
    if (current > 0) {
      current--;
      flipped = false;
      renderSlide(current);
    }
  };

  nextBtn.onclick = () => {
    if (current < preguntas.length - 1) {
      current++;
      flipped = false;
      renderSlide(current);
    }
  };

  randomBtn.onclick = () => {
    let rand;
    do {
      rand = Math.floor(Math.random() * preguntas.length);
    } while (rand === current);
    current = rand;
    flipped = false;
    renderSlide(current);
  };

  renderSlide(current);

  window.showWalzerPopup = showWalzerPopup;
  window.showCBSAPopup = showCBSAPopup;
</script>
</body>
</html>
